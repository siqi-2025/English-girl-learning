# English Learning Assistant - é¡¹ç›®æ­å»ºæŒ‡å—
**æ–‡æ¡£ç‰ˆæœ¬**: v1.1 (Jamesç‰ˆæœ¬å·ç³»ç»Ÿ)  
**åˆ›å»ºæ—¥æœŸ**: 2024-08-28  
**æœ€åæ›´æ–°**: 2024-08-28

## ğŸ”„ æ›´æ–°è®°å½•
- **v1.1** (2024-08-28): 
  - æ›´æ–°è™šæ‹Ÿç¯å¢ƒå‘½åä¸ºé¡¹ç›®ç‰¹å®šåç§° (english-learning-env)
  - å‡çº§PaddleOCRç‰ˆæœ¬åˆ°3.1.0æ”¯æŒAIå¢å¼º
  - æ›´æ–°é…ç½®ç®¡ç†ç›¸å…³ç¯å¢ƒå˜é‡å‘½å

## å¼€å‘ç¯å¢ƒå‡†å¤‡

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.15+, Ubuntu 18.04+
- **Python**: 3.8 - 3.11 (æ¨è 3.9)
- **å†…å­˜**: æœ€å°‘4GBï¼Œæ¨è8GB+
- **å­˜å‚¨**: å¯ç”¨ç©ºé—´3GB+ (åŒ…å«æ¨¡å‹æ–‡ä»¶)
- **ç½‘ç»œ**: ç¨³å®šçš„ç½‘ç»œè¿æ¥ (ç”¨äºAI APIè°ƒç”¨)

### å¼€å‘å·¥å…·å‡†å¤‡
```bash
# 1. å®‰è£…Python (å¦‚æœæœªå®‰è£…)
# è®¿é—® https://python.org ä¸‹è½½å®‰è£…åŒ…

# 2. å®‰è£…Git (å¦‚æœæœªå®‰è£…)  
# è®¿é—® https://git-scm.com ä¸‹è½½å®‰è£…åŒ…

# 3. éªŒè¯å®‰è£…
python --version  # åº”æ˜¾ç¤º Python 3.8+
git --version     # åº”æ˜¾ç¤º git version
```

## é¡¹ç›®åˆå§‹åŒ–

### 1. åˆ›å»ºé¡¹ç›®ç›®å½•
```bash
# åˆ›å»ºé¡¹ç›®æ ¹ç›®å½•
mkdir English-girl-learning
cd English-girl-learning

# åˆ›å»ºå®Œæ•´çš„ç›®å½•ç»“æ„
mkdir -p src/{ui,core,utils}
mkdir -p config tests docs .streamlit
mkdir -p output cache logs temp
```

### 2. åˆ›å»ºé¡¹ç›®ç‰¹å®šè™šæ‹Ÿç¯å¢ƒ
```bash
# åˆ›å»ºé¡¹ç›®ç‰¹å®šçš„è™šæ‹Ÿç¯å¢ƒ (é¿å…ä¸å…¶ä»–é¡¹ç›®å†²çª)
python -m venv english-learning-env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
english-learning-env\Scripts\activate
# macOS/Linux:
source english-learning-env/bin/activate

# éªŒè¯è™šæ‹Ÿç¯å¢ƒ (ç¡®ä¿ä½¿ç”¨é¡¹ç›®ä¸“ç”¨ç¯å¢ƒ)
which python  # åº”æŒ‡å‘ english-learning-env ä¸­çš„python
echo $VIRTUAL_ENV  # åº”æ˜¾ç¤º english-learning-env è·¯å¾„
```

### 3. å®‰è£…ä¾èµ–åŒ…
```bash
# åˆ›å»ºrequirements.txt (äº‘ç«¯å…¼å®¹ç‰ˆæœ¬)
cat > requirements.txt << EOF
# Webæ¡†æ¶
streamlit>=1.28.0

# ç½‘ç»œå’ŒAPI
requests>=2.25.0

# é…ç½®å’Œæ–‡æ¡£å¤„ç†
pyyaml>=6.0
markdown>=3.3.0

# å›¾åƒå¤„ç† - åŸºç¡€ç‰ˆæœ¬
pillow>=8.0.0
numpy>=1.21.0,<2.0.0
opencv-python-headless>=4.5.0

# AIåˆ†ææ ¸å¿ƒåŠŸèƒ½
scikit-image>=0.19.0
markdown==3.5.1
python-docx==0.8.11

# å¼€å‘å’Œæµ‹è¯•
pytest==7.4.3
black==23.9.1
flake8==6.1.0
EOF

# å®‰è£…ä¾èµ–
pip install --upgrade pip
pip install -r requirements.txt

# éªŒè¯å…³é”®åŒ…å®‰è£…
python -c "import streamlit; print('Streamlit:', streamlit.__version__)"
python -c "import paddleocr; print('PaddleOCR: OK')"
```

## æ ¸å¿ƒæ–‡ä»¶åˆ›å»º

### 1. é¡¹ç›®é…ç½®æ–‡ä»¶

#### config/app_config.yaml
```yaml
# åº”ç”¨åŸºç¡€é…ç½®
app:
  name: "English Learning Assistant"
  version: "1.0.0"
  debug: true
  
# AIå¢å¼ºOCRé…ç½®
ocr:
  engine: "paddleocr"
  version: "3.1.0"  # AIå¢å¼ºç‰ˆæœ¬
  languages: ["ch", "en"]  # æ”¯æŒ37ç§è¯­è¨€
  use_gpu: false
  confidence_threshold: 0.8
  angle_classification: true
  enable_mkldnn: true  # æ€§èƒ½ä¼˜åŒ–
  ai_enhanced: true    # å¯ç”¨AIå¢å¼ºåŠŸèƒ½
  
# AIé…ç½®
ai:
  provider: "zhipu"
  model: "glm-4.5-flash" 
  base_url: "https://open.bigmodel.cn/api/paas/v4/chat/completions"
  temperature: 0.7
  top_p: 0.8
  max_tokens: 2000
  timeout: 30
  retry_times: 3
  
# å¤„ç†é…ç½®
processing:
  batch_size: 5
  max_workers: 3
  max_file_size: 10  # MB
  supported_formats: ["jpg", "jpeg", "png", "bmp"]
  
# è·¯å¾„é…ç½®
paths:
  input_default: "D:/360MoveData/Users/wukon/Pictures/7ä¸Šè‹±è¯­"
  output_base: "./output"
  cache_dir: "./cache"
  temp_dir: "./temp"
  log_dir: "./logs"
```

#### config/prompts.yaml
```yaml
# AIæç¤ºè¯é…ç½®
prompts:
  content_analysis: |
    è¯·åˆ†æä»¥ä¸‹è‹±è¯­æ•™æå†…å®¹ï¼ŒæŒ‰JSONæ ¼å¼è¾“å‡ºï¼š
    {
      "unit": "å•å…ƒç¼–å·",
      "title": "å•å…ƒæ ‡é¢˜", 
      "content_type": "dialog/reading/grammar",
      "main_content": "ä¸»è¦å†…å®¹",
      "vocabulary": [
        {
          "word": "å•è¯",
          "meaning": "ä¸­æ–‡å«ä¹‰",
          "level": "primary/middle",
          "example": "ä¾‹å¥"
        }
      ],
      "grammar_points": ["è¯­æ³•ç‚¹1", "è¯­æ³•ç‚¹2"]
    }
    
    æ–‡æœ¬å†…å®¹ï¼š{text}
    
  exercise_generation: |
    æ ¹æ®ä»¥ä¸‹è¯¾æ–‡å†…å®¹å’Œè¯æ±‡åˆ—è¡¨ï¼Œç”Ÿæˆè‹±è¯­ç»ƒä¹ é¢˜ï¼š
    
    è¦æ±‚ï¼š
    1. ä¸­è‹±äº’è¯‘é¢˜5é“
    2. å­—æ¯å¡«ç©ºé¢˜5é“  
    3. çŸ­è¯­å¡«ç©ºé¢˜3é“
    4. è¯¾æ–‡é»˜å†™é¢˜ï¼ˆæŒ‰æ®µè½åˆ†å‰²ï¼‰
    
    è¾“å‡ºæ ¼å¼ä¸ºJSONï¼š
    {
      "translation": [
        {"question": "é¢˜ç›®", "answer": "ç­”æ¡ˆ", "type": "zh_to_en/en_to_zh"}
      ],
      "letter_filling": [
        {"question": "é¢˜ç›®ï¼ˆç”¨_è¡¨ç¤ºç©ºç¼ºå­—æ¯ï¼‰", "answer": "å®Œæ•´å•è¯"}
      ],
      "phrase_filling": [
        {"question": "å¥å­ï¼ˆç”¨___è¡¨ç¤ºç©ºç¼ºçŸ­è¯­ï¼‰", "answer": "æ­£ç¡®çŸ­è¯­"}
      ],
      "dictation": [
        {"chinese": "ä¸­æ–‡æ®µè½", "english": "å¯¹åº”è‹±æ–‡æ®µè½"}
      ]
    }
    
    è¯¾æ–‡å†…å®¹ï¼š{content}
    è¯æ±‡åˆ—è¡¨ï¼š{vocabulary}
    
  vocabulary_classification: |
    è¯·å°†ä»¥ä¸‹è‹±è¯­å•è¯æŒ‰ç…§éš¾åº¦ç­‰çº§åˆ†ç±»ï¼š
    - primary: å°å­¦æ°´å¹³è¯æ±‡
    - middle: åˆä¸­æ°´å¹³è¯æ±‡
    
    å¯¹æ¯ä¸ªå•è¯æä¾›ä¸­æ–‡é‡Šä¹‰å’Œä¾‹å¥ã€‚
    
    è¾“å‡ºJSONæ ¼å¼ï¼š
    {
      "primary": [
        {"word": "å•è¯", "meaning": "ä¸­æ–‡", "example": "ä¾‹å¥"}
      ],
      "middle": [
        {"word": "å•è¯", "meaning": "ä¸­æ–‡", "example": "ä¾‹å¥"}
      ]
    }
    
    å•è¯åˆ—è¡¨ï¼š{words}
```

### 2. Streamlité…ç½®

#### .streamlit/config.toml
```toml
[server]
port = 8501
enableCORS = false
enableXsrfProtection = false
maxUploadSize = 50

[theme]
primaryColor = "#FF6B6B"
backgroundColor = "#FFFFFF"
secondaryBackgroundColor = "#F0F2F6" 
textColor = "#262730"
font = "sans serif"

[browser]
gatherUsageStats = false
```

#### .streamlit/secrets.toml (æœ¬åœ°å¼€å‘ç”¨)
```toml
# APIå¯†é’¥é…ç½® (é¡¹ç›®ç‰¹å®šå‘½å)
[api]
ENGLISH_LEARNING_ZHIPU_API_KEY = "your-api-key-here"

# é¡¹ç›®ç‰¹å®šè®¾ç½®
[english_learning_settings]
DEBUG = true
LOG_LEVEL = "DEBUG"
PROJECT_NAME = "English Learning Assistant"
ENVIRONMENT = "development"
```

### 3. æ ¸å¿ƒä»£ç ç»“æ„

#### streamlit_app.py (åº”ç”¨å…¥å£)
```python
"""
English Learning Assistant - ä¸»åº”ç”¨å…¥å£
åŸºäºOCRå’ŒAIçš„è‹±è¯­æ•™æå¤„ç†å·¥å…·
"""

import streamlit as st
import sys
import os
from pathlib import Path

# æ·»åŠ srcç›®å½•åˆ°Pythonè·¯å¾„
project_root = Path(__file__).parent
sys.path.insert(0, str(project_root / "src"))

def main():
    """ä¸»åº”ç”¨å‡½æ•°"""
    # é¡µé¢é…ç½®
    st.set_page_config(
        page_title="English Learning Assistant",
        page_icon="ğŸ“š",
        layout="wide",
        initial_sidebar_state="expanded",
        menu_items={
            'Get Help': 'https://github.com/yourusername/English-girl-learning',
            'Report a bug': 'https://github.com/yourusername/English-girl-learning/issues',
            'About': """
            # English Learning Assistant
            åŸºäºOCRè¯†åˆ«å’ŒAIåˆ†æçš„è‹±è¯­å­¦ä¹ è¾…åŠ©å·¥å…·
            
            **åŠŸèƒ½ç‰¹æ€§:**
            - ğŸ” OCRå›¾ç‰‡è¯†åˆ«
            - ğŸ¤– AIå†…å®¹åˆ†æåˆ†ç±»
            - ğŸ“ è‡ªåŠ¨ç”ŸæˆMarkdownæ–‡æ¡£
            - ğŸ“‹ æ™ºèƒ½ä¹ é¢˜ç”Ÿæˆ
            """
        }
    )
    
    # åˆå§‹åŒ–ä¼šè¯çŠ¶æ€
    if 'session_id' not in st.session_state:
        import uuid
        st.session_state.session_id = str(uuid.uuid4())
    
    # ä¸»ç•Œé¢
    st.title("ğŸ“š English Learning Assistant")
    st.markdown("---")
    
    # å¯¼å…¥å¹¶æ¸²æŸ“ä¸»é¡µé¢
    try:
        from ui.main_page import render_main_page
        render_main_page()
    except ImportError as e:
        st.error(f"å¯¼å…¥ä¸»é¡µé¢æ¨¡å—å¤±è´¥: {e}")
        st.info("è¯·ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²æ­£ç¡®å®‰è£…")
        st.code("pip install -r requirements.txt")

if __name__ == "__main__":
    main()
```

#### src/utils/config.py (é…ç½®ç®¡ç†)
```python
"""
é…ç½®ç®¡ç†æ¨¡å—
"""

import yaml
import streamlit as st
import os
from pathlib import Path
from typing import Any, Dict

class Config:
    """é…ç½®ç®¡ç†ç±»"""
    
    def __init__(self, config_path: str = "config/app_config.yaml"):
        self.config_path = Path(config_path)
        self._config = self._load_config()
        self._load_secrets()
    
    def _load_config(self) -> Dict[str, Any]:
        """åŠ è½½é…ç½®æ–‡ä»¶"""
        try:
            with open(self.config_path, 'r', encoding='utf-8') as f:
                return yaml.safe_load(f)
        except FileNotFoundError:
            st.error(f"é…ç½®æ–‡ä»¶æœªæ‰¾åˆ°: {self.config_path}")
            return {}
        except yaml.YAMLError as e:
            st.error(f"é…ç½®æ–‡ä»¶è§£æé”™è¯¯: {e}")
            return {}
    
    def _load_secrets(self):
        """åŠ è½½å¯†é’¥é…ç½® (é¡¹ç›®ç‰¹å®šå‘½å)"""
        try:
            # ä¼˜å…ˆä½¿ç”¨Streamlit secrets (é¡¹ç›®ç‰¹å®šåç§°)
            api_key = st.secrets.get("api", {}).get("ENGLISH_LEARNING_ZHIPU_API_KEY")
        except (KeyError, FileNotFoundError):
            # å›é€€åˆ°ç¯å¢ƒå˜é‡ (é¡¹ç›®ç‰¹å®šåç§°)
            api_key = os.getenv("ENGLISH_LEARNING_ZHIPU_API_KEY")
            if not api_key:
                # å…¼å®¹æ—§ç‰ˆæœ¬ç¯å¢ƒå˜é‡å
                api_key = os.getenv("ZHIPU_API_KEY")
        
        if api_key:
            self._config.setdefault("ai", {})["api_key"] = api_key
        else:
            st.warning("âš ï¸ æœªæ‰¾åˆ°AI APIå¯†é’¥ (ENGLISH_LEARNING_ZHIPU_API_KEY)ï¼Œéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨")
    
    def get(self, key_path: str, default=None) -> Any:
        """
        è·å–é…ç½®å€¼
        
        Args:
            key_path: é…ç½®è·¯å¾„ï¼Œå¦‚ 'ai.model'
            default: é»˜è®¤å€¼
            
        Returns:
            é…ç½®å€¼
        """
        keys = key_path.split('.')
        value = self._config
        
        for key in keys:
            if isinstance(value, dict) and key in value:
                value = value[key]
            else:
                return default
                
        return value
    
    def get_prompts(self, prompt_name: str) -> str:
        """è·å–æç¤ºè¯"""
        prompts_file = Path("config/prompts.yaml")
        try:
            with open(prompts_file, 'r', encoding='utf-8') as f:
                prompts = yaml.safe_load(f)
                return prompts.get("prompts", {}).get(prompt_name, "")
        except FileNotFoundError:
            st.error(f"æç¤ºè¯æ–‡ä»¶æœªæ‰¾åˆ°: {prompts_file}")
            return ""

# å…¨å±€é…ç½®å®ä¾‹
config = Config()
```

#### src/utils/logger.py (æ—¥å¿—ç®¡ç†)
```python
"""
æ—¥å¿—ç®¡ç†æ¨¡å—
"""

import logging
import streamlit as st
from pathlib import Path
from datetime import datetime

def setup_logger(name: str = "english_learning", log_level: str = "INFO"):
    """
    è®¾ç½®æ—¥å¿—è®°å½•å™¨
    
    Args:
        name: æ—¥å¿—è®°å½•å™¨åç§°
        log_level: æ—¥å¿—çº§åˆ«
        
    Returns:
        é…ç½®å¥½çš„æ—¥å¿—è®°å½•å™¨
    """
    logger = logging.getLogger(name)
    logger.setLevel(getattr(logging, log_level.upper()))
    
    # é¿å…é‡å¤æ·»åŠ å¤„ç†å™¨
    if logger.handlers:
        return logger
    
    # åˆ›å»ºæ—¥å¿—ç›®å½•
    log_dir = Path("logs")
    log_dir.mkdir(exist_ok=True)
    
    # æ–‡ä»¶å¤„ç†å™¨
    log_file = log_dir / f"{name}_{datetime.now().strftime('%Y%m%d')}.log"
    file_handler = logging.FileHandler(log_file, encoding='utf-8')
    file_handler.setLevel(logging.DEBUG)
    
    # æ§åˆ¶å°å¤„ç†å™¨
    console_handler = logging.StreamHandler()
    console_handler.setLevel(logging.INFO)
    
    # æ ¼å¼å™¨
    formatter = logging.Formatter(
        '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    )
    file_handler.setFormatter(formatter)
    console_handler.setFormatter(formatter)
    
    # æ·»åŠ å¤„ç†å™¨
    logger.addHandler(file_handler)
    logger.addHandler(console_handler)
    
    return logger

# åˆ›å»ºé»˜è®¤æ—¥å¿—è®°å½•å™¨
logger = setup_logger()

def log_streamlit(level: str, message: str, details: dict = None):
    """
    åœ¨Streamlitç•Œé¢æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯
    
    Args:
        level: æ—¥å¿—çº§åˆ« (info, warning, error, success)
        message: æ—¥å¿—æ¶ˆæ¯
        details: è¯¦ç»†ä¿¡æ¯
    """
    # è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶
    getattr(logger, level.lower(), logger.info)(message)
    
    # åœ¨Streamlitç•Œé¢æ˜¾ç¤º
    if level.lower() == 'error':
        st.error(message)
    elif level.lower() == 'warning':
        st.warning(message)
    elif level.lower() == 'success':
        st.success(message)
    else:
        st.info(message)
    
    # æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
    if details and st.get_option("runner.fastReruns"):
        with st.expander("è¯¦ç»†ä¿¡æ¯"):
            st.json(details)
```

## å¼€å‘å·¥ä½œæµ

### 1. æ¯æ—¥å¼€å‘æµç¨‹
```bash
# 1. æ¿€æ´»é¡¹ç›®ç‰¹å®šè™šæ‹Ÿç¯å¢ƒ
source english-learning-env/bin/activate  # Linux/macOS
# æˆ–
english-learning-env\Scripts\activate     # Windows

# 2. è®¾ç½®é¡¹ç›®ç‰¹å®šç¯å¢ƒå˜é‡
export ENGLISH_LEARNING_ZHIPU_API_KEY="your-api-key-here"
# Windows: set ENGLISH_LEARNING_ZHIPU_API_KEY=your-api-key-here

# 3. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 4. å®‰è£…/æ›´æ–°ä¾èµ– (AIå¢å¼ºç‰ˆæœ¬)
pip install -r requirements.txt

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
streamlit run streamlit_app.py

# 6. å¼€å‘å®Œæˆåæäº¤
git add .
git commit -m "æè¿°: å…·ä½“ä¿®æ”¹å†…å®¹"
git push origin main
```

### 2. ä»£ç è§„èŒƒ
```bash
# å®‰è£…ä»£ç æ ¼å¼åŒ–å·¥å…·
pip install black flake8 mypy

# æ ¼å¼åŒ–ä»£ç 
black src/ --line-length 88

# ä»£ç æ£€æŸ¥
flake8 src/ --max-line-length 88 --ignore E203,W503

# ç±»å‹æ£€æŸ¥
mypy src/ --ignore-missing-imports
```

### 3. æµ‹è¯•æµç¨‹
```bash
# è¿è¡Œæµ‹è¯•
pytest tests/ -v

# æµ‹è¯•è¦†ç›–ç‡
pytest tests/ --cov=src --cov-report=html
```

## å¼€å‘è§„èŒƒ

### 1. ä»£ç ç»“æ„è§„èŒƒ
```python
# æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š
"""
æ¨¡å—åç§°
ç®€è¦æè¿°æ¨¡å—åŠŸèƒ½
"""

# å¯¼å…¥é¡ºåº
import os  # æ ‡å‡†åº“
import sys

import streamlit as st  # ç¬¬ä¸‰æ–¹åº“
import pandas as pd

from src.utils.config import config  # æœ¬åœ°æ¨¡å—
```

### 2. å‡½æ•°è§„èŒƒ
```python
def function_name(param1: str, param2: int = 0) -> str:
    """
    å‡½æ•°ç®€è¦æè¿°
    
    Args:
        param1: å‚æ•°1æè¿°
        param2: å‚æ•°2æè¿°ï¼Œé»˜è®¤å€¼0
        
    Returns:
        è¿”å›å€¼æè¿°
        
    Raises:
        ValueError: å¼‚å¸¸æƒ…å†µæè¿°
    """
    pass
```

### 3. å¼‚å¸¸å¤„ç†è§„èŒƒ
```python
def safe_operation():
    """å®‰å…¨æ“ä½œç¤ºä¾‹"""
    try:
        # å¯èƒ½å‡ºé”™çš„æ“ä½œ
        result = risky_operation()
        return result
    except SpecificException as e:
        logger.error(f"å…·ä½“é”™è¯¯: {e}")
        st.error("ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯")
        return None
    except Exception as e:
        logger.error(f"æœªé¢„æœŸé”™è¯¯: {e}")
        st.error("æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•")
        return None
```

## è°ƒè¯•æŒ‡å—

### 1. æœ¬åœ°è°ƒè¯•
```python
# åœ¨ä»£ç ä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯
if config.get("app.debug", False):
    st.write("ğŸ› è°ƒè¯•ä¿¡æ¯:")
    st.json({
        "session_state": dict(st.session_state),
        "config": config._config
    })
```

### 2. æ—¥å¿—è°ƒè¯•
```python
from src.utils.logger import logger

# è®°å½•è°ƒè¯•ä¿¡æ¯
logger.debug(f"å¤„ç†æ–‡ä»¶: {filename}")
logger.info(f"OCRè¯†åˆ«ç»“æœ: {ocr_result}")
logger.warning(f"æ€§èƒ½è­¦å‘Š: å¤„ç†æ—¶é—´ {elapsed_time:.2f}s")
logger.error(f"å¤„ç†å¤±è´¥: {error}")
```

### 3. æ€§èƒ½è°ƒè¯•
```python
import time
import streamlit as st

@st.cache_data
def cached_operation(data):
    """ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–æ€§èƒ½"""
    return expensive_operation(data)

def timed_operation(func):
    """è®¡æ—¶è£…é¥°å™¨"""
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        elapsed = time.time() - start_time
        logger.info(f"{func.__name__} è€—æ—¶: {elapsed:.2f}s")
        return result
    return wrapper
```

## å¸¸è§é—®é¢˜è§£å†³

### 1. ä¾èµ–å®‰è£…é—®é¢˜
```bash
# æ¸…ç†pipç¼“å­˜
pip cache purge

# å‡çº§pip
python -m pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 2. æƒé™é—®é¢˜ (Windows)
```bash
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤è¡Œ
# æˆ–è€…ä½¿ç”¨ç”¨æˆ·å®‰è£…
pip install --user package_name
```

### 3. è·¯å¾„é—®é¢˜
```python
# ä½¿ç”¨ç›¸å¯¹è·¯å¾„å’ŒPathå¯¹è±¡
from pathlib import Path

project_root = Path(__file__).parent
config_path = project_root / "config" / "app_config.yaml"
```

é€šè¿‡ä»¥ä¸ŠæŒ‡å—ï¼Œæ‚¨å¯ä»¥å¿«é€Ÿæ­å»ºèµ·å®Œæ•´çš„å¼€å‘ç¯å¢ƒï¼Œå¼€å§‹English Learning Assistanté¡¹ç›®çš„å¼€å‘å·¥ä½œã€‚