# è‹±è¯­å­¦ä¹ åŠ©æ‰‹ - é¡¹ç›®é…ç½®ç®¡ç†æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0.0  
**åˆ›å»ºæ—¶é—´**: 2025-08-29  
**æœ€åæ›´æ–°**: 2025-08-29  
**ç»´æŠ¤äººå‘˜**: Claude Code Assistant  
**é€‚ç”¨ç‰ˆæœ¬**: v1.8.0 (ç¨³å®šç‰ˆ) & v2.0.0 (æµ‹è¯•ç‰ˆ)  

---

## ğŸ—ï¸ é¡¹ç›®åŸºç¡€é…ç½®

### é¡¹ç›®åŸºæœ¬ä¿¡æ¯
```yaml
é¡¹ç›®åç§°: è‹±è¯­å­¦ä¹ åŠ©æ‰‹ (English Learning Assistant)
é¡¹ç›®ç±»å‹: Webåº”ç”¨ (Streamlit)
ä¸»è¦åŠŸèƒ½: AIé©±åŠ¨çš„è‹±è¯­æ•™æOCRè¯†åˆ«ä¸æ™ºèƒ½åˆ†æ
æŠ€æœ¯æ¶æ„: Python + Streamlit + GLM-4V-Flash + GitHubå›¾åºŠ
å¼€å‘æ¨¡å¼: æ•æ·å¼€å‘ + åˆ†æ”¯ç®¡ç†
éƒ¨ç½²æ–¹å¼: Streamlit Cloudè‡ªåŠ¨éƒ¨ç½²
```

### ç›®å½•ç»“æ„é…ç½®
```
English-girl-learning/
â”œâ”€â”€ ğŸ“ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“ core/                     # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ai_analyzer.py          # AIåˆ†æå™¨ (GLM-4V-Flash)
â”‚   â”‚   â”œâ”€â”€ vision_processor.py     # è§†è§‰å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ document_generator.py   # æ–‡æ¡£ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ ğŸ“ ui/                      # ç”¨æˆ·ç•Œé¢
â”‚   â”‚   â””â”€â”€ main_interface.py       # ä¸»ç•Œé¢ (Streamlit)
â”‚   â””â”€â”€ ğŸ“ utils/                   # å·¥å…·æ¨¡å—
â”‚       â””â”€â”€ config.py               # é…ç½®ç®¡ç†
â”œâ”€â”€ ğŸ“ temp_images/                 # ä¸´æ—¶å›¾ç‰‡å­˜å‚¨ (GitHubå›¾åºŠ)
â”œâ”€â”€ ğŸ“ static/                      # é™æ€æ–‡ä»¶ (v2.0å·²ç§»é™¤)
â”œâ”€â”€ ğŸ“ output/                      # è¾“å‡ºæ–‡ä»¶ç›®å½•
â”œâ”€â”€ ğŸ“ docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ streamlit_app.py            # åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ ğŸ“„ requirements.txt            # Pythonä¾èµ–é…ç½®
â”œâ”€â”€ ğŸ“„ .gitignore                  # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ CHANGELOG.md                # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ ğŸ“„ ç‰ˆæœ¬å·®å¼‚å¯¹æ¯”-v1.8.0-vs-v2.0.0.md  # ç‰ˆæœ¬å¯¹æ¯”æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ åˆ†æ”¯ç®¡ç†ç­–ç•¥.md              # åˆ†æ”¯ç®¡ç†è¯´æ˜
â””â”€â”€ ğŸ“„ é¡¹ç›®é…ç½®ç®¡ç†æ–‡æ¡£.md          # æœ¬é…ç½®æ–‡æ¡£
```

---

## ğŸ”§ ç¯å¢ƒé…ç½®ç®¡ç†

### 1. Pythonç¯å¢ƒé…ç½®

#### åŸºç¡€ç¯å¢ƒè¦æ±‚
```yaml
Pythonç‰ˆæœ¬: ">= 3.8, < 3.13"
åŒ…ç®¡ç†å™¨: pip
è™šæ‹Ÿç¯å¢ƒ: æ¨èä½¿ç”¨
æ“ä½œç³»ç»Ÿ: Windows/Linux/macOS (è·¨å¹³å°)
```

#### ä¾èµ–åŒ…é…ç½® (requirements.txt)
```txt
# æ ¸å¿ƒæ¡†æ¶
streamlit>=1.28.0              # Webåº”ç”¨æ¡†æ¶
zhipuai>=2.0.0                 # æ™ºæ™®AI SDK

# å›¾åƒå¤„ç†  
Pillow>=10.0.0                 # å›¾åƒå¤„ç†åº“
opencv-python>=4.8.0          # è®¡ç®—æœºè§†è§‰ (å¯é€‰)

# æ•°æ®å¤„ç†
pandas>=2.0.0                 # æ•°æ®åˆ†æ (å¯é€‰)
numpy>=1.24.0                 # æ•°å€¼è®¡ç®— (å¯é€‰)

# ç½‘ç»œè¯·æ±‚
requests>=2.31.0              # HTTPè¯·æ±‚åº“
httpx>=0.25.0                 # ç°ä»£HTTPå®¢æˆ·ç«¯

# æ–‡æ¡£ç”Ÿæˆ  
markdown>=3.5.0               # Markdownå¤„ç†

# ç³»ç»Ÿå·¥å…·
pathlib                       # è·¯å¾„å¤„ç† (å†…ç½®)
tempfile                     # ä¸´æ—¶æ–‡ä»¶ (å†…ç½®)
time                         # æ—¶é—´å¤„ç† (å†…ç½®)
os                           # ç³»ç»Ÿæ¥å£ (å†…ç½®)
```

### 2. ç¯å¢ƒå˜é‡é…ç½®

#### å¿…éœ€ç¯å¢ƒå˜é‡
```bash
# AIæœåŠ¡é…ç½®
ENGLISH_LEARNING_ZHIPU_API_KEY="your_zhipu_api_key_here"

# GitHubå›¾åºŠé…ç½® (å¯é€‰ï¼Œç”¨äºå›¾ç‰‡æ‰˜ç®¡)
GITHUB_TOKEN="your_github_token_here"

# åº”ç”¨é…ç½® (å¯é€‰)
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost
```

#### é…ç½®æ–¹å¼

**æ–¹å¼1: ç³»ç»Ÿç¯å¢ƒå˜é‡**
```bash
# Windows
set ENGLISH_LEARNING_ZHIPU_API_KEY=your_key_here

# Linux/macOS  
export ENGLISH_LEARNING_ZHIPU_API_KEY=your_key_here
```

**æ–¹å¼2: Streamlit Cloudé…ç½®**
```yaml
# åœ¨Streamlit Cloudåå°è®¾ç½®
Environment Variables:
  ENGLISH_LEARNING_ZHIPU_API_KEY: your_key_here
  GITHUB_TOKEN: your_token_here
```

**æ–¹å¼3: .envæ–‡ä»¶ (å¼€å‘ç¯å¢ƒ)**
```env
# .env (ä¸æäº¤åˆ°Git)
ENGLISH_LEARNING_ZHIPU_API_KEY=your_key_here
GITHUB_TOKEN=your_token_here
```

---

## ğŸ”€ ç‰ˆæœ¬æ§åˆ¶é…ç½®

### Gité…ç½®

#### .gitignoreé…ç½®
```gitignore
# Python
__pycache__/
*.py[cod]
*.pyo
*.pyd
.Python
*.so
.venv/
.env

# Streamlit
.streamlit/secrets.toml

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.temp
temp/
output/*.txt
output/*.md

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/
*.swp
*.swo

# æ—¥å¿—
*.log

# æ•æ„Ÿä¿¡æ¯
secrets.toml
config.ini
```

#### åˆ†æ”¯ç­–ç•¥é…ç½®
```yaml
ä¸»åˆ†æ”¯ç­–ç•¥:
  main: ç”Ÿäº§ç¨³å®šç‰ˆæœ¬
  develop: å¼€å‘é›†æˆåˆ†æ”¯ (æœªå¯ç”¨)
  
ç‰ˆæœ¬åˆ†æ”¯ç­–ç•¥:
  æ ¼å¼: "v{major}.{minor}-{feature}"
  ç¤ºä¾‹: "v2.0-ui-redesign"
  ç”¨é€”: é‡å¤§ç‰ˆæœ¬å¼€å‘
  
åŠŸèƒ½åˆ†æ”¯ç­–ç•¥:
  æ ¼å¼: "feature-{åŠŸèƒ½å}"
  ç¤ºä¾‹: "feature-è¯­éŸ³è¯†åˆ«"
  ç”¨é€”: æ–°åŠŸèƒ½å¼€å‘
  
ä¿®å¤åˆ†æ”¯ç­–ç•¥:
  æ ¼å¼: "hotfix-{é—®é¢˜æè¿°}"  
  ç¤ºä¾‹: "hotfix-apiè°ƒç”¨å¤±è´¥"
  ç”¨é€”: ç´§æ€¥é—®é¢˜ä¿®å¤
```

### æäº¤è§„èŒƒé…ç½®

#### æäº¤æ¶ˆæ¯æ ¼å¼
```
<ç±»å‹>(<èŒƒå›´>): <ç®€çŸ­æè¿°>

<è¯¦ç»†æè¿°>

<è„šæ³¨>
```

#### ç±»å‹å®šä¹‰
- **feat**: æ–°åŠŸèƒ½
- **fix**: Bugä¿®å¤  
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼è°ƒæ•´
- **refactor**: ä»£ç é‡æ„
- **test**: æµ‹è¯•ç›¸å…³
- **chore**: æ„å»º/é…ç½®ç›¸å…³

#### ç¤ºä¾‹æäº¤
```
feat(ui): å®ç°å·¦å³åˆ†æ å¸ƒå±€è®¾è®¡

- æ·»åŠ ç°ä»£åŒ–çš„å·¦å³åˆ†æ ç•Œé¢
- å·¦ä¾§æ˜¾ç¤ºè¯†åˆ«æ–‡æœ¬å†…å®¹
- å³ä¾§æ˜¾ç¤ºå›¾ç‰‡ç¼©ç•¥å›¾åˆ—è¡¨  
- æ”¯æŒæ–‡ä»¶åˆ‡æ¢å’Œå®æ—¶é¢„è§ˆ

Closes #123
```

---

## ğŸš€ éƒ¨ç½²é…ç½®ç®¡ç†

### Streamlit Cloudéƒ¨ç½²é…ç½®

#### åº”ç”¨é…ç½®æ–‡ä»¶ (.streamlit/config.toml)
```toml
[global]
developmentMode = false

[server]
headless = true
port = 8501
enableCORS = false
enableXsrfProtection = false

[theme]
primaryColor = "#FF6B6B"
backgroundColor = "#FFFFFF"  
secondaryBackgroundColor = "#F0F2F6"
textColor = "#262730"

[browser]
gatherUsageStats = false
```

#### Streamlitåº”ç”¨å…¥å£é…ç½®
```python
# streamlit_app.py
"""
è‹±è¯­å­¦ä¹ åŠ©æ‰‹ - Streamlitåº”ç”¨å…¥å£ç‚¹
"""

import sys
import os
from pathlib import Path

# ç¦ç”¨ç³»ç»Ÿä»£ç†ï¼Œé¿å…éƒ¨ç½²é—®é¢˜
os.environ.pop('HTTP_PROXY', None)
os.environ.pop('HTTPS_PROXY', None)

# è®¾ç½®APIå¯†é’¥ (ç”Ÿäº§ç¯å¢ƒä»ç¯å¢ƒå˜é‡è·å–)
if not os.getenv("ENGLISH_LEARNING_ZHIPU_API_KEY"):
    # å¼€å‘ç¯å¢ƒé»˜è®¤å¯†é’¥
    os.environ["ENGLISH_LEARNING_ZHIPU_API_KEY"] = "your_dev_key"

# æ·»åŠ é¡¹ç›®è·¯å¾„
project_root = Path(__file__).parent
sys.path.insert(0, str(project_root))

# å¯åŠ¨åº”ç”¨
from src.ui.main_interface import create_main_interface

def main():
    interface = create_main_interface()
    interface.run()

if __name__ == "__main__":
    main()
```

### ç›‘æ§ä¸æ—¥å¿—é…ç½®

#### åº”ç”¨ç›‘æ§é…ç½®
```yaml
å¥åº·æ£€æŸ¥:
  - URL: https://engirl.streamlit.app
  - æ£€æŸ¥é—´éš”: 5åˆ†é’Ÿ
  - è¶…æ—¶æ—¶é—´: 30ç§’
  - é¢„æœŸå“åº”: 200 OK

æ€§èƒ½ç›‘æ§:
  - å“åº”æ—¶é—´: < 3ç§’
  - å†…å­˜ä½¿ç”¨: < 512MB
  - CPUä½¿ç”¨: < 80%
  - é”™è¯¯ç‡: < 1%
```

#### æ—¥å¿—é…ç½®
```python
# æ—¥å¿—çº§åˆ«é…ç½®
import logging

# ç”Ÿäº§ç¯å¢ƒ
logging.basicConfig(
    level=logging.WARNING,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)

# å¼€å‘ç¯å¢ƒ  
logging.basicConfig(
    level=logging.DEBUG,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'
)
```

---

## ğŸ“Š æ•°æ®é…ç½®ç®¡ç†

### æ•°æ®å­˜å‚¨é…ç½®

#### ä¸´æ—¶æ•°æ®å­˜å‚¨
```yaml
GitHubå›¾åºŠ:
  ä»“åº“: siqi-2025/English-girl-learning
  åˆ†æ”¯: main
  ç›®å½•: temp_images/
  æ¸…ç†ç­–ç•¥: æ‰‹åŠ¨æ¸…ç†
  å¤§å°é™åˆ¶: 100MB per file
  æ ¼å¼é™åˆ¶: JPG, PNG, BMP, TIFF

æœ¬åœ°ä¸´æ—¶å­˜å‚¨:
  ç›®å½•: ./temp/
  æ¸…ç†ç­–ç•¥: ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨æ¸…ç†
  å¤§å°é™åˆ¶: 1GB total
  ä¿å­˜æ—¶é—´: ä¼šè¯æœŸé—´
```

#### è¾“å‡ºæ–‡ä»¶é…ç½®
```yaml
æ–‡æ¡£è¾“å‡º:
  ç›®å½•: ./output/
  æ ¼å¼: Markdown (.md)
  å‘½å: english_learning_export_{timestamp}.md
  ç¼–ç : UTF-8
  å¤§å°é™åˆ¶: 50MB per file

å›¾ç‰‡è¾“å‡º:
  æ ¼å¼: JPG (GitHubå›¾åºŠæ ‡å‡†)
  è´¨é‡: 95%
  æœ€å¤§åˆ†è¾¨ç‡: 4096x4096
  é¢œè‰²æ¨¡å¼: RGB
```

### APIé…ç½®ç®¡ç†

#### GLM-4V-Flash APIé…ç½®
```yaml
åŸºç¡€é…ç½®:
  æ¨¡å‹: "glm-4v-flash"
  åŸºç¡€URL: "https://open.bigmodel.cn/api/paas/v4/"
  è¶…æ—¶æ—¶é—´: 30ç§’
  é‡è¯•æ¬¡æ•°: 3æ¬¡

å‚æ•°é…ç½®:
  temperature: 0.8      # ç”Ÿæˆæ¸©åº¦
  top_p: 0.6           # æ ¸é‡‡æ ·å‚æ•°  
  max_tokens: 1024     # æœ€å¤§è¾“å‡ºé•¿åº¦
  stream: false        # ç¦ç”¨æµå¼è¾“å‡º

è¯·æ±‚æ ¼å¼:
  Content-Type: "application/json"
  Authorization: "Bearer {api_key}"
  User-Agent: "English-Learning-Assistant/2.0"
```

#### GitHub APIé…ç½® (å›¾åºŠæœåŠ¡)
```yaml
åŸºç¡€é…ç½®:
  APIç‰ˆæœ¬: "v3"
  åŸºç¡€URL: "https://api.github.com"
  è¶…æ—¶æ—¶é—´: 30ç§’
  é‡è¯•æ¬¡æ•°: 3æ¬¡

è®¤è¯é…ç½®:
  æ–¹å¼: Personal Access Token
  æƒé™: repo (å®Œæ•´ä»“åº“è®¿é—®)
  ä½œç”¨åŸŸ: public_repo + repo

ä¸Šä¼ é…ç½®:
  åˆ†æ”¯: main
  æäº¤ä¿¡æ¯: "Upload temp image for GLM-4V-Flash processing"
  æ–‡ä»¶åæ ¼å¼: "temp_image_{timestamp}.jpg"
```

---

## ğŸ”’ å®‰å…¨é…ç½®ç®¡ç†

### APIå¯†é’¥å®‰å…¨é…ç½®

#### å¯†é’¥ç®¡ç†ç­–ç•¥
```yaml
å¼€å‘ç¯å¢ƒ:
  å­˜å‚¨æ–¹å¼: .envæ–‡ä»¶ (ä¸æäº¤)
  è½®æ¢ç­–ç•¥: æ¯æœˆè½®æ¢
  æƒé™æ§åˆ¶: åªè¯»APIæƒé™
  
ç”Ÿäº§ç¯å¢ƒ:
  å­˜å‚¨æ–¹å¼: Streamlit Cloudç¯å¢ƒå˜é‡
  è½®æ¢ç­–ç•¥: æ¯å­£åº¦è½®æ¢  
  æƒé™æ§åˆ¶: æœ€å°å¿…è¦æƒé™
  ç›‘æ§: APIä½¿ç”¨é‡ç›‘æ§

æµ‹è¯•ç¯å¢ƒ:
  å­˜å‚¨æ–¹å¼: æµ‹è¯•ä¸“ç”¨å¯†é’¥
  è½®æ¢ç­–ç•¥: æ¯æ¬¡æµ‹è¯•è½®æ¢
  æƒé™æ§åˆ¶: å—é™APIæƒé™
```

#### æ•æ„Ÿä¿¡æ¯ä¿æŠ¤
```python
# å¯†é’¥è„±æ•æ˜¾ç¤º
def mask_api_key(key: str) -> str:
    if not key or len(key) < 8:
        return "***"
    return key[:4] + "*" * (len(key) - 8) + key[-4:]

# ä½¿ç”¨ç¤ºä¾‹
api_key = os.getenv("ENGLISH_LEARNING_ZHIPU_API_KEY")
print(f"ä½¿ç”¨APIå¯†é’¥: {mask_api_key(api_key)}")
```

### æ–‡ä»¶ä¸Šä¼ å®‰å…¨é…ç½®

#### æ–‡ä»¶ç±»å‹é™åˆ¶
```python
ALLOWED_EXTENSIONS = {'.jpg', '.jpeg', '.png', '.bmp', '.tiff'}
MAX_FILE_SIZE = 100 * 1024 * 1024  # 100MB
MAX_FILES_PER_BATCH = 10

def is_allowed_file(filename: str, file_size: int) -> bool:
    # æ£€æŸ¥æ‰©å±•å
    if not any(filename.lower().endswith(ext) for ext in ALLOWED_EXTENSIONS):
        return False
    
    # æ£€æŸ¥æ–‡ä»¶å¤§å°  
    if file_size > MAX_FILE_SIZE:
        return False
        
    return True
```

#### å†…å®¹å®‰å…¨æ£€æŸ¥
```python
def validate_image_content(file_data: bytes) -> bool:
    """éªŒè¯å›¾ç‰‡å†…å®¹å®‰å…¨æ€§"""
    try:
        from PIL import Image
        import io
        
        # éªŒè¯æ˜¯å¦ä¸ºæœ‰æ•ˆå›¾ç‰‡
        with Image.open(io.BytesIO(file_data)) as img:
            # æ£€æŸ¥å›¾ç‰‡æ¨¡å¼
            if img.mode not in ['RGB', 'RGBA', 'L']:
                return False
                
            # æ£€æŸ¥å›¾ç‰‡å°ºå¯¸  
            if img.size[0] > 4096 or img.size[1] > 4096:
                return False
                
        return True
    except Exception:
        return False
```

---

## ğŸ“ˆ æ€§èƒ½é…ç½®ç®¡ç†

### åº”ç”¨æ€§èƒ½é…ç½®

#### ç¼“å­˜é…ç½®
```python
import streamlit as st

# Streamlitç¼“å­˜é…ç½®
@st.cache_data(ttl=3600)  # 1å°æ—¶ç¼“å­˜
def cached_api_call(image_url: str):
    """ç¼“å­˜APIè°ƒç”¨ç»“æœ"""
    pass

@st.cache_resource  # å…¨å±€èµ„æºç¼“å­˜
def load_ai_client():
    """ç¼“å­˜AIå®¢æˆ·ç«¯å®ä¾‹"""
    pass
```

#### èµ„æºé™åˆ¶é…ç½®  
```yaml
å†…å­˜é™åˆ¶:
  å¼€å‘ç¯å¢ƒ: 1GB
  ç”Ÿäº§ç¯å¢ƒ: 512MB  
  è­¦å‘Šé˜ˆå€¼: 80%
  è‡ªåŠ¨æ¸…ç†: 90%

CPUé™åˆ¶:
  æœ€å¤§ä½¿ç”¨ç‡: 80%
  å¹¶å‘è¯·æ±‚: 10ä¸ª
  è¯·æ±‚é˜Ÿåˆ—: 50ä¸ª
  è¶…æ—¶æ—¶é—´: 60ç§’

ç½‘ç»œé…ç½®:
  è¿æ¥è¶…æ—¶: 10ç§’
  è¯»å–è¶…æ—¶: 30ç§’  
  æ€»è¶…æ—¶: 60ç§’
  æœ€å¤§é‡è¯•: 3æ¬¡
```

### æ•°æ®åº“é…ç½® (æœªæ¥æ‰©å±•)

#### SQLiteé…ç½® (ç”¨æˆ·æ•°æ®å­˜å‚¨)
```yaml
æ•°æ®åº“æ–‡ä»¶: ./data/app.db
è¿æ¥æ± å¤§å°: 10
è¶…æ—¶æ—¶é—´: 30ç§’
WALæ¨¡å¼: å¯ç”¨
è‡ªåŠ¨å¤‡ä»½: æ¯æ—¥

è¡¨ç»“æ„:
  users: ç”¨æˆ·ä¿¡æ¯
  sessions: ä¼šè¯è®°å½•  
  processed_images: å¤„ç†å†å²
  export_logs: å¯¼å‡ºè®°å½•
```

---

## ğŸ§ª æµ‹è¯•é…ç½®ç®¡ç†

### æµ‹è¯•ç¯å¢ƒé…ç½®

#### å•å…ƒæµ‹è¯•é…ç½®
```yaml
æµ‹è¯•æ¡†æ¶: pytest
è¦†ç›–ç‡å·¥å…·: pytest-cov  
æœ€å°è¦†ç›–ç‡: 80%
æµ‹è¯•ç›®å½•: ./tests/
æµ‹è¯•å‘½å: test_*.py
```

#### æµ‹è¯•æ•°æ®é…ç½®
```yaml
æµ‹è¯•å›¾ç‰‡:
  ä½ç½®: ./tests/fixtures/images/
  æ ¼å¼: JPG, PNG
  å¤§å°: 1KB - 10MB
  æ•°é‡: 20ä¸ªæ ·æœ¬
  ç±»å‹: è‹±è¯­æ•™ææˆªå›¾

æµ‹è¯•API:
  æ¨¡æ‹ŸæœåŠ¡: å¯ç”¨
  æµ‹è¯•å¯†é’¥: test_key_only
  å“åº”å»¶è¿Ÿ: 100ms
  é”™è¯¯æ¨¡æ‹Ÿ: 10%æ¦‚ç‡
```

### æŒç»­é›†æˆé…ç½® (GitHub Actions)

#### CI/CDæµç¨‹é…ç½®
```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [ main, v*-* ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Run tests
        run: pytest --cov=src --cov-report=xml
      - name: Upload coverage
        uses: codecov/codecov-action@v3
```

---

## ğŸ“‹ é…ç½®ç®¡ç†æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] **ç¯å¢ƒå˜é‡**
  - [ ] ENGLISH_LEARNING_ZHIPU_API_KEY å·²è®¾ç½®
  - [ ] GITHUB_TOKEN å·²è®¾ç½® (å¯é€‰)
  - [ ] å…¶ä»–å¿…éœ€ç¯å¢ƒå˜é‡å·²é…ç½®

- [ ] **ä¾èµ–åŒ…**  
  - [ ] requirements.txt å·²æ›´æ–°
  - [ ] æ‰€æœ‰ä¾èµ–åŒ…ç‰ˆæœ¬å·²å›ºå®š
  - [ ] å®‰å…¨æ¼æ´æ‰«æé€šè¿‡

- [ ] **ä»£ç é…ç½®**
  - [ ] è°ƒè¯•ä»£ç å·²æ¸…ç†
  - [ ] ç¡¬ç¼–ç å¯†é’¥å·²ç§»é™¤  
  - [ ] ç”Ÿäº§é…ç½®å·²å¯ç”¨

### å®‰å…¨æ£€æŸ¥
- [ ] **æ•æ„Ÿä¿¡æ¯**
  - [ ] APIå¯†é’¥ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç 
  - [ ] .envæ–‡ä»¶å·²æ·»åŠ åˆ°.gitignore
  - [ ] secrets.tomlæœªæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

- [ ] **æ–‡ä»¶ä¸Šä¼ **
  - [ ] æ–‡ä»¶ç±»å‹é™åˆ¶å·²å¯ç”¨
  - [ ] æ–‡ä»¶å¤§å°é™åˆ¶å·²è®¾ç½®
  - [ ] æ¶æ„æ–‡ä»¶æ£€æµ‹å·²é…ç½®

### æ€§èƒ½æ£€æŸ¥  
- [ ] **ç¼“å­˜é…ç½®**
  - [ ] APIè°ƒç”¨ç¼“å­˜å·²å¯ç”¨
  - [ ] é™æ€èµ„æºç¼“å­˜å·²é…ç½®
  - [ ] ç¼“å­˜è¿‡æœŸç­–ç•¥å·²è®¾ç½®

- [ ] **èµ„æºé™åˆ¶**
  - [ ] å†…å­˜ä½¿ç”¨ç›‘æ§å·²å¯ç”¨
  - [ ] å¹¶å‘è¯·æ±‚é™åˆ¶å·²è®¾ç½®
  - [ ] è¶…æ—¶é…ç½®å·²ä¼˜åŒ–

### ç›‘æ§æ£€æŸ¥
- [ ] **æ—¥å¿—é…ç½®**
  - [ ] ç”Ÿäº§ç¯å¢ƒæ—¥å¿—çº§åˆ«å·²è®¾ç½®
  - [ ] é”™è¯¯æ—¥å¿—å·²é…ç½®
  - [ ] æ€§èƒ½æ—¥å¿—å·²å¯ç”¨

- [ ] **å¥åº·æ£€æŸ¥**  
  - [ ] åº”ç”¨å¥åº·æ£€æŸ¥ç«¯ç‚¹å·²é…ç½®
  - [ ] ç›‘æ§å‘Šè­¦å·²è®¾ç½®
  - [ ] æ•…éšœæ¢å¤æµç¨‹å·²å‡†å¤‡

---

## ğŸ“ é…ç½®æ”¯æŒä¸ç»´æŠ¤

### é…ç½®æ–‡ä»¶ç»´æŠ¤

#### å®šæœŸæ£€æŸ¥ä»»åŠ¡ (æœˆåº¦)
- [ ] æ£€æŸ¥ä¾èµ–åŒ…å®‰å…¨æ›´æ–°
- [ ] æ›´æ–°APIå¯†é’¥è½®æ¢
- [ ] æ¸…ç†è¿‡æœŸçš„ä¸´æ—¶æ–‡ä»¶
- [ ] éªŒè¯å¤‡ä»½å’Œæ¢å¤æµç¨‹

#### ç‰ˆæœ¬å‡çº§ä»»åŠ¡ (å­£åº¦)  
- [ ] è¯„ä¼°æ–°ç‰ˆæœ¬Streamlitå…¼å®¹æ€§
- [ ] æ›´æ–°Pythonç‰ˆæœ¬è¦æ±‚
- [ ] ä¼˜åŒ–æ€§èƒ½é…ç½®å‚æ•°
- [ ] æ›´æ–°å®‰å…¨é…ç½®ç­–ç•¥

### é—®é¢˜å¤„ç†æµç¨‹

#### é…ç½®é—®é¢˜è¯Šæ–­
1. **ç¯å¢ƒå˜é‡é—®é¢˜**
   - æ£€æŸ¥å˜é‡æ˜¯å¦å­˜åœ¨
   - éªŒè¯å˜é‡å€¼æ ¼å¼
   - ç¡®è®¤å˜é‡ä½œç”¨åŸŸ

2. **ä¾èµ–åŒ…é—®é¢˜**
   - æ£€æŸ¥åŒ…ç‰ˆæœ¬å…¼å®¹æ€§
   - éªŒè¯åŒ…å®‰è£…å®Œæ•´æ€§  
   - è§£å†³åŒ…å†²çªé—®é¢˜

3. **APIé…ç½®é—®é¢˜**
   - éªŒè¯APIå¯†é’¥æœ‰æ•ˆæ€§
   - æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€
   - ç¡®è®¤APIé™åˆ¶å’Œé…é¢

#### ç´§æ€¥é…ç½®ä¿®å¤
```bash
# å¿«é€Ÿå›æ»šé…ç½®
git checkout HEAD~1 -- requirements.txt
git checkout HEAD~1 -- .streamlit/config.toml

# é‡å¯æœåŠ¡
streamlit run streamlit_app.py --server.port 8501
```

---

## ğŸ“ é…ç½®ç®¡ç†æ€»ç»“

æœ¬é…ç½®ç®¡ç†æ–‡æ¡£æ¶µç›–äº†è‹±è¯­å­¦ä¹ åŠ©æ‰‹é¡¹ç›®ä»å¼€å‘åˆ°ç”Ÿäº§çš„å®Œæ•´é…ç½®ä½“ç³»ã€‚é€šè¿‡è§„èŒƒåŒ–çš„é…ç½®ç®¡ç†ï¼Œæˆ‘ä»¬ç¡®ä¿äº†ï¼š

âœ… **å¼€å‘æ•ˆç‡**: æ ‡å‡†åŒ–çš„å¼€å‘ç¯å¢ƒé…ç½®  
âœ… **éƒ¨ç½²ç¨³å®š**: è‡ªåŠ¨åŒ–çš„éƒ¨ç½²æµç¨‹é…ç½®  
âœ… **è¿è¡Œå®‰å…¨**: å…¨é¢çš„å®‰å…¨é˜²æŠ¤é…ç½®  
âœ… **æ€§èƒ½ä¼˜åŒ–**: ç§‘å­¦çš„æ€§èƒ½è°ƒä¼˜é…ç½®  
âœ… **è´¨é‡ä¿è¯**: ä¸¥æ ¼çš„æµ‹è¯•éªŒè¯é…ç½®

éšç€é¡¹ç›®çš„å‘å±•ï¼Œæ­¤æ–‡æ¡£å°†æŒç»­æ›´æ–°å’Œå®Œå–„ï¼Œä¸ºé¡¹ç›®çš„é•¿æœŸç¨³å®šè¿è¡Œæä¾›å¼ºæœ‰åŠ›çš„é…ç½®ç®¡ç†æ”¯æ’‘ã€‚

**æ–‡æ¡£ç»´æŠ¤**: æ¯æ¬¡é‡å¤§ç‰ˆæœ¬å‘å¸ƒåæ›´æ–°  
**é…ç½®å®¡æŸ¥**: æ¯å­£åº¦è¿›è¡Œå…¨é¢å®¡æŸ¥  
**å®‰å…¨æ›´æ–°**: æ¯æœˆæ£€æŸ¥å®‰å…¨é…ç½®æ›´æ–°